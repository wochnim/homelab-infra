- name: Baseline configuration
  hosts: all
  become: true

  tasks:
    - name: Ensure apt cache is up to date
      ansible.builtin.apt:
        update_cache: true
        cache_valid_time: 3600

    - name: Install basic packages
      ansible.builtin.apt:
        name:
          - ca-certificates
          - curl
          - vim
        state: present
    
- name: Install node_exporter
  hosts: linux_servers
  become: true
  roles:
   - node_exporter

